(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8aff909a"],{"4db0":function(t,e,i){},"7e58":function(t,e,i){},"8e2a":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("my-header"),i("div",{staticStyle:{"margin-top":"50px"},attrs:{id:"message-box"}},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("v-card",[i("v-card-title",{staticStyle:{"margin-bottom":"15px","background-color":"#f5f5f5"}},[i("v-btn-toggle",[i("v-btn",{attrs:{height:"60",width:"125"},on:{click:function(e){t.isSolvedPage=!1}}},[t._v("待处理")]),i("v-btn",{attrs:{height:"60",width:"125"},on:{click:function(e){t.isSolvedPage=!0}}},[t._v("已回复")])],1)],1),"false"===t.isLB?i("div",[t.isSolvedPage?i("div",[t._l(t.solvedQuestions,(function(e,a){return i("v-card-text",{key:a},[i("div",{staticClass:"answer-item-box"},[i("div",{staticClass:"question-title"},[t._v(t._s(e.name))]),i("div",t._l(e.tags,(function(e,a){return i("v-chip-group",{key:a},[i("v-chip",{attrs:{color:t.color[a%15]}},[t._v(t._s(e.name))])],1)})),1),i("div",[i("v-chip",{staticStyle:{"margin-top":"15px"}},[t._v("流转原因: "+t._s(e.admin_commit))])],1),i("div",{staticClass:"question-description-block"},[i("div",[i("v-card",{attrs:{"min-height":"300px"}},[i("v-card-title",[i("div",{staticClass:"question-title"},[t._v(" 描述 ")])]),i("v-card-text",[i("div",{staticClass:"question-description"},[t._v(" "+t._s(e.description)+" ")]),i("div",[i("image-grid",{attrs:{"question-id":e.id}})],1)])],1)],1)]),i("div",{staticClass:"admin-student-icon"},[i("admin-answer",{attrs:{"current-question":e}}),i("student-comment",{attrs:{"current-question":e}})],1)]),i("v-divider")],1)})),i("div",{staticClass:"pagination-box"},[i("v-pagination",{attrs:{length:t.solvedQuestionPage},model:{value:t.page_2,callback:function(e){t.page_2=e},expression:"page_2"}})],1)],2):i("div",[i("v-card-text",[t._l(t.unsolvedQuestions,(function(e,a){return i("div",{key:a,staticClass:"answer-item-box"},[i("div",{staticClass:"question-title"},[t._v(t._s(e.name))]),i("div",[i("v-chip-group",t._l(e.tags,(function(e,a){return i("v-chip",{key:a,attrs:{color:t.color[a%15]}},[t._v(" "+t._s(e.name)+" ")])})),1)],1),i("div",[i("v-chip",{staticStyle:{"margin-top":"15px"}},[t._v("流转原因: "+t._s(e.admin_commit))])],1),i("div",{staticClass:"question-description-block"},[i("div",[i("v-card",{attrs:{"min-height":"300px"}},[i("v-card-title",[i("div",{staticClass:"question-title"},[t._v(" 描述 ")])]),i("v-card-text",[i("div",{staticClass:"question-description"},[t._v(" "+t._s(e.description)+" ")]),i("div",[i("image-grid",{attrs:{"question-id":e.id}})],1)])],1)],1)]),i("div",{staticClass:"admin-student-icon"},[i("admin-answer",{attrs:{"current-question":e}}),i("student-comment",{attrs:{"current-question":e}})],1),i("div",[i("return-back-text-editor",{attrs:{questionId:e.id},on:{getReason:t.getReason}})],1),i("div",{staticStyle:{"margin-top":"25px"}},[i("my-quill-editor",{attrs:{"question-id":Number(e.id)},on:{getAnswerByChild:t.getAnswerByChild}})],1)])})),i("v-divider")],2),i("div",{staticClass:"pagination-box"},[i("v-pagination",{attrs:{length:t.unsolvedQuestionsPage},model:{value:t.page_1,callback:function(e){t.page_1=e},expression:"page_1"}})],1)],1)]):i("div",[t.isSolvedPage?i("div",[t._l(t.solvedQuestions,(function(e,a){return i("v-card-text",{key:a},[i("div",{staticClass:"answer-item-box"},[i("div",{staticClass:"question-title"},[t._v(t._s(e.name))]),i("div",t._l(e.tags,(function(e,a){return i("v-chip-group",{key:a},[i("v-chip",{attrs:{color:t.color[a%15]}},[t._v(t._s(e.name))])],1)})),1),i("div",{staticClass:"question-description-block"},[i("div",[i("v-card",{attrs:{"min-height":"300px"}},[i("v-card-title",[i("div",{staticClass:"question-title"},[t._v(" 描述 ")])]),i("v-card-text",[i("div",{staticClass:"question-description"},[t._v(" "+t._s(e.description)+" ")]),i("div",[i("image-grid",{attrs:{"question-id":e.id}})],1)])],1)],1)]),i("div",{staticClass:"admin-student-icon"},[i("admin-answer",{attrs:{"current-question":e}}),i("student-comment",{attrs:{"current-question":e}})],1)]),i("v-divider")],1)})),i("div",{staticClass:"pagination-box"},[i("v-pagination",{attrs:{length:t.solvedQuestionPage},model:{value:t.page_4,callback:function(e){t.page_4=e},expression:"page_4"}})],1)],2):i("div",[t._l(t.unsolvedQuestions,(function(e,a){return i("v-card-text",{key:a},[i("div",{staticClass:"answer-item-box"},[i("div",{staticClass:"question-title"},[t._v(t._s(e.name))]),i("div",t._l(e.tags,(function(e,a){return i("v-chip-group",{key:a},[i("v-chip",{attrs:{color:t.color[a%15]}},[t._v(t._s(e.name))])],1)})),1),i("div",{staticClass:"question-description-block"},[i("div",[i("v-card",{attrs:{"min-height":"300px"}},[i("v-card-title",[i("div",{staticClass:"question-title"},[t._v(" 描述 ")])]),i("v-card-text",[i("div",{staticClass:"question-description"},[t._v(" "+t._s(e.description)+" ")]),i("div",[i("image-grid",{attrs:{"question-id":e.id}})],1)])],1)],1)]),i("div",{staticClass:"admin-student-icon"},[i("admin-answer",{attrs:{"current-question":e}}),i("student-comment",{attrs:{"current-question":t.currentStudentComment}})],1),i("div",[i("tag-search-column",{attrs:{currentQuestion:e}})],1)]),i("v-divider")],1)})),i("div",{staticClass:"pagination-box"},[i("v-pagination",{attrs:{length:t.unsolvedQuestionsPage},model:{value:t.page_3,callback:function(e){t.page_3=e},expression:"page_3"}})],1)],2)])],1)],1)],1)],1)],1)],1)},n=[],s=(i("b0c0"),i("0418")),o=i("ca1b"),r=i("5292"),d=i("ca3d"),c=i("090a"),l=i("61f3"),u=i("3be7"),v=i("f3e4"),g=i("50fc"),p={name:"Message",components:{TagSearchColumn:o["a"],MyHeader:s["a"],StudentComment:r["a"],AdminAnswer:d["a"],MyQuillEditor:c["a"],ImageGrid:l["a"],returnBackTextEditor:u["a"]},data:function(){return{isLB:Object(v["c"])().isLB,solvedQuestions:[],unsolvedQuestions:[],solvedQuestionPage:0,unsolvedQuestionsPage:0,isSolvedPage:!1,color:["#DCE775","#FFF176","#FFD54F","#FFB74D","#FF8A65","#F06292","#BA68C8","#9575CD","#7986CB","#64B5F6","#29B6F6","#26C6DA","#26A69A","#81C784","#AED581"],isOverlay:!1,currentStudentComment:[],tagsList:[],page_1:0,page_2:0,page_3:0,page_4:0}},watch:{page_1:function(t){var e=this,i={id:Object(v["c"])().id,token:Object(v["c"])().token,limits:10,page:t};Object(g["l"])(i).then((function(t){var i=t.data;1===i.ErrorCode?alert("拉取未解决问题列表失败"):e.unsolvedQuestions=i.data.data}))},page_2:function(t){var e=this,i={id:Object(v["c"])().id,token:Object(v["c"])().token,limits:10,page:t};Object(g["i"])(i).then((function(t){var i=t.data;1===i.ErrorCode?alert("拉取未解决问题列表失败"):e.solvedQuestions=i.data.data}))},page_3:function(t){var e=this,i={id:Object(v["c"])().id,token:Object(v["c"])().token,limits:10,page:t};Object(g["l"])(i).then((function(t){var i=t.data;1===i.ErrorCode?alert("拉取未解决问题列表失败"):e.unsolvedQuestions=i.data.data}))},page_4:function(t){var e=this,i={id:Object(v["c"])().id,token:Object(v["c"])().token,limits:10,page:t};Object(g["i"])(i).then((function(t){var i=t.data;1===i.ErrorCode?alert("拉取未解决问题列表失败"):e.solvedQuestions=i.data.data}))}},methods:{initTagOnQuestion:function(t,e,i){var a=this,n={id:Object(v["c"])().id,token:Object(v["c"])().token,question_id:t};Object(g["j"])(n).then((function(t){var n=t.data;if(1!==n.ErrorCode)return!0===i?void(a.solvedQuestions[e].tags=n.data):void(a.unsolvedQuestions[e].tags=n.data);alert("通过问题获取标签失败")}))},openComment:function(t){var e=this,i={question_id:t};Object(g["f"])(i).then((function(t){var i=t.data;1===i.ErrorCode?alert("获取学生评论失败"):(e.currentStudentComment=i.data,e.isOverlay=!0)}))},getAnswerByChild:function(t,e){var i={id:Object(v["c"])().id,token:Object(v["c"])().token,question_id:e,answer_contain:t};Object(g["a"])(i).then((function(t){var e=t.data;1===e.ErrorCode?alert("回复失败"):alert("回复成功")}))},returnBack:function(t,e){var i=this,a={id:Object(v["c"])().id,token:Object(v["c"])().token,question_id:t},n=[];Object(g["j"])(a).then((function(a){var s=a.data;if(1===s.ErrorCode)alert("获取问题所属标签失败");else{for(var o=s.data,r=0;r<o.length;r++)n.push(o[r].id);n=JSON.stringify(n);var d={id:Object(v["c"])().id,token:Object(v["c"])().token,question_id:t,tagList:n};Object(g["o"])(d).then((function(a){var n=a.data;if(1===n.ErrorCode)alert("删除问题标签失败");else{var s={id:Object(v["c"])().id,token:Object(v["c"])().token,question_id:t,tagList:JSON.stringify([i.searchTagId("其他")]),reason:e};Object(g["b"])(s).then((function(t){var e=t.data;1===e.ErrorCode?alert("退回失败"):(alert("退回成功"),location.reload())}))}}))}}))},getReason:function(t,e){this.returnBack(t,e)},searchTagId:function(t){for(var e=JSON.parse(this.tagsList),i=0;i<e.length;i++)if(e[i].name===t)return e[i].id;return-1}},created:function(){var t=this;this.tagsList=Object(v["b"])();var e={id:Object(v["c"])().id,token:Object(v["c"])().token,limits:10,page:1};Object(g["l"])(e).then((function(i){var a=i.data;1===a.ErrorCode?alert("拉取未解决问题列表失败"):(t.unsolvedQuestions=a.data.data,t.unsolvedQuestionsPage=Math.ceil(a.data.total/10),Object(g["i"])(e).then((function(e){var i=e.data;if(1===i.ErrorCode)alert("拉取已解决问题列表失败");else{t.solvedQuestions=i.data.data,t.solvedQuestionPage=Math.ceil(i.data.total/10);for(var a=0;a<t.unsolvedQuestions.length;a++){var n=t.unsolvedQuestions[a].id;t.initTagOnQuestion(n,a,!1)}for(var s=0;s<t.solvedQuestions.length;s++){var o=t.solvedQuestions[s].id;t.initTagOnQuestion(o,s,!0)}}})))}))}},h=p,m=(i("a958"),i("2877")),b=i("6544"),f=i.n(b),_=i("8336"),C=i("5530"),O=(i("7e58"),i("604c")),k=O["a"].extend({name:"button-group",provide:function(){return{btnToggle:this}},computed:{classes:function(){return O["a"].options.computed.classes.call(this)}},methods:{genData:O["a"].options.methods.genData}}),j=i("a9ad"),x=i("58df"),q=Object(x["a"])(k,j["a"]).extend({name:"v-btn-toggle",props:{backgroundColor:String,borderless:Boolean,dense:Boolean,group:Boolean,rounded:Boolean,shaped:Boolean,tile:Boolean},computed:{classes:function(){return Object(C["a"])(Object(C["a"])({},k.options.computed.classes.call(this)),{},{"v-btn-toggle":!0,"v-btn-toggle--borderless":this.borderless,"v-btn-toggle--dense":this.dense,"v-btn-toggle--group":this.group,"v-btn-toggle--rounded":this.rounded,"v-btn-toggle--shaped":this.shaped,"v-btn-toggle--tile":this.tile},this.themeClasses)}},methods:{genData:function(){var t=this.setTextColor(this.color,Object(C["a"])({},k.options.methods.genData.call(this)));return this.group?t:this.setBackgroundColor(this.backgroundColor,t)}}}),Q=i("b0af"),w=i("99d9"),y=i("cc20"),B=(i("8f5a"),i("7efd")),S=Object(x["a"])(B["a"],j["a"]).extend({name:"v-chip-group",provide:function(){return{chipGroup:this}},props:{column:Boolean},computed:{classes:function(){return Object(C["a"])(Object(C["a"])({},B["a"].options.computed.classes.call(this)),{},{"v-chip-group":!0,"v-chip-group--column":this.column})}},watch:{column:function(t){t&&(this.scrollOffset=0),this.$nextTick(this.onResize)}},methods:{genData:function(){return this.setTextColor(this.color,Object(C["a"])({},B["a"].options.methods.genData.call(this)))}}}),E=i("62ad"),P=i("a523"),T=i("ce7e"),D=i("891e"),F=i("0fd9"),V=Object(m["a"])(h,a,n,!1,null,"1349058b",null);e["default"]=V.exports;f()(V,{VBtn:_["a"],VBtnToggle:q,VCard:Q["a"],VCardText:w["a"],VCardTitle:w["b"],VChip:y["a"],VChipGroup:S,VCol:E["a"],VContainer:P["a"],VDivider:T["a"],VPagination:D["a"],VRow:F["a"]})},"8f5a":function(t,e,i){},a958:function(t,e,i){"use strict";var a=i("4db0"),n=i.n(a);n.a}}]);
//# sourceMappingURL=chunk-8aff909a.affe27b4.js.map